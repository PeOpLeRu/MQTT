Подключить две платы. Одна плата работает с датчиком света. Другая со светодиодом. Платы подключены к разным ноутбукам. Ноутбуки общаются по MQTT.

1. (на стороне датчика) Реализовать передачу моментальных значений сеносора. Здесь и далее нормируйте показания сенсора, так чтобы они лежали в диапазоне от 0 до 100

lab/UNIQUE_ID/photo/instant


2. (на стороне датчика) Реализовать передачу усредненных данных по 100 значениям. Усреднение сделать бегущим средним. Для этого держите очередь из 100 значение на стороне ноутбука.

lab/UNIQUE_ID/photo/averge


3. (на стороне датчика) Реализовать потоковую передачу данных: на микроконтроллер отправляется команда на постоянную посылку значений, ноутбук занимается пересылкой этих данных по MQTT. Время между двумя последовательными измерения должно быть таким чтобы программа на ноутбуке успевала обработать данные. Время подобрать автоматически: начать с большого времени (например 1с ) и увеличивать его до тех пор пока программа на ноутбуке будет справляться с потоком данных.

lab/UNIQUE_ID/photo/stream


4. (на стороне светодида) Реализовать нахождение убывающих и возрастающих участков рядов измерений.  Учитывайте что измерения могут шуметь и поэтому алгоритм основанный на отдельных измерений будет не точным. Светодиод должен светиться только на участках убывающей яркости.


5. (на стороне светодида) Реализовать включение выключение по порогу освещенности. Порог брать как среднее между минимальным и максимальным значением освещенности. (на стороне датчика) Минимальные и максимальные значения обновлять при поступлении новых данных.